@model IEnumerable<TravelTour.Models.Tour>
@helper Truncate(string input, int length)
{
    if (input.Length < length)
    {
        @input
    }
    else
    {
        @input.Substring(0, length)<text>...</text>
    }
}

@{
    ViewBag.Title = "Tour";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<h2>Quản lý Tour</h2>

<p>
    @Html.ActionLink("Thêm Tour", "Create")
</p>
<table class="table">
    <tr>
        <th style="width:300px">
            Tên Tour
        </th>
        <th style="width:300px">
            Giá Bán
        </th>
        <th style="width:300px">
            Chi tiết
        </th>
        <th style="width:300px">
            Hình
        </th>
        <th style="width:300px">
            Thời gian khởi hành
        </th>
        <th style="width:300px">
            Số lượng còn
        </th>
        <th style="width:300px">
            Đơn vị vận chuyển
        </th>
        <th style="width:300px">
            Ngày khởi hành
        </th>
        <th style="width:300px">
            Thời gian về
        </th>
        <th style="width:300px">
            Trong/Ngoài nước
        </th>
        <th style="width:300px">
            Khu vực
        </th>
        <th style="width:300px">
            Khu vực ngoài nước
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
<tr>
    <td>
        @Html.DisplayFor(modelItem => item.TenTour)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.Giaban)
    </td>
    <td>
        @Truncate(item.Mota, 100)
    </td>
    <td>
        <img src="@Url.Content("~/Content/img/"+ item.Anhbia)" style="height:150px" />
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.Thoigian)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.Soluongcon)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.Vanchuyen)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.Ngaykhoihanh)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.Ngayve)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.CHUDE.TenChuDe)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.CHUDEKV.TenChuDe)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.CHUDEKVNN.TenChuDe)
    </td>
    <td>
        @Html.ActionLink("Chi tiết", "Detail", new { id = item.MaTour }) |
        @Html.ActionLink("Xóa", "Delete", new { id = item.MaTour })
    </td>
</tr>
    }

</table>

